services:
  # Background Worker - runs continuously, polls every 5 minutes internally
  - type: worker
    name: telegram-signal-monitor
    runtime: python
    plan: free  # Free tier: 750 hours/month
    buildCommand: |
      pip install telethon aiohttp
      apt-get update && apt-get install -y ffmpeg || true
    startCommand: python channel_monitor_render.py
    envVars:
      - key: TELEGRAM_API_ID
        sync: false
      - key: TELEGRAM_API_HASH
        sync: false
      - key: TELEGRAM_SESSION
        sync: false
      - key: BOT_TOKEN
        sync: false
      - key: CHAT_ID
        sync: false
      - key: GROQ_API_KEY
        sync: false
      - key: CHECK_MINUTES
        value: "10"
